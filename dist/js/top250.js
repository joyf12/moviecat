angular.module("moviecatApp.top250",[]).controller("top250Ctrl",["$scope","$moviecatSrv","$routeParams",function(e,a,t){e.pageid=t.pageid||1,e.pagesize=t.pagesize||5;var p=(e.pageid-1)*e.pagesize;a.JSONP("https://api.douban.com/v2/movie/top250",{count:e.pagesize,start:p},function(a){e.movie=a,e.pageid>1?e.prevPageid=e.pageid-1:e.prevPageid=1,e.pageCount=Math.ceil(e.movie.total/e.pagesize),e.pageid<e.pageCount?e.nextPageid=e.pageid-0+1:e.nextPageid=e.pageCount,e.totalCount=e.movie.total,e.$apply()})}]);